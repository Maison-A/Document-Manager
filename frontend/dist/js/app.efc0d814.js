(function(){var t={570:function(t,e,o){"use strict";var n=o(963),c=o(252);function a(t,e,o,n,a,r){const s=(0,c.up)("NavBar"),l=(0,c.up)("router-view");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(s),(0,c.Wm)(l)],64)}var r=o.p+"img/documentStacked.d9651e7f.svg";const s={class:"navbar navbar-expand-lg navbar-light bg-light"},l=(0,c._)("img",{class:"d-inline-block align-top",src:r,width:"30",height:"30",alt:""},null,-1),i=(0,c._)("a",null,"Document Manager",-1),u={class:"navbar-collapse",id:"navbarNavAltMarkup"},d={class:"navbar-nav"};function m(t,e,o,n,a,r){const m=(0,c.up)("router-link");return(0,c.wg)(),(0,c.iD)("nav",s,[(0,c.Wm)(m,{class:"navbar-brand nav-item nav-link",to:{path:"/#"},"active-class":"active"},{default:(0,c.w5)((()=>[l,i])),_:1}),(0,c._)("div",u,[(0,c._)("div",d,[(0,c.Wm)(m,{class:"nav-item nav-link",to:{path:"/newDocument"},"active-class":"active"},{default:(0,c.w5)((()=>[(0,c.Uk)("Create A PDF")])),_:1}),(0,c.Wm)(m,{class:"nav-item nav-link",to:{path:"/pdfList"},"exact-active-class":"active"},{default:(0,c.w5)((()=>[(0,c.Uk)("All Current PDFs")])),_:1})])])])}var p={name:"NavBar",props:{},computed:{},components:{},methods:{}},f=o(744);const h=(0,f.Z)(p,[["render",m]]);var D=h,g={components:{NavBar:D}};const v=(0,f.Z)(g,[["render",a]]);var b=v,y=o(201);const w={class:"home"};function _(t,e,o,n,a,r){const s=(0,c.up)("Landing");return(0,c.wg)(),(0,c.iD)("div",w,[(0,c.Wm)(s)])}const C=(0,c._)("h1",null,"Welcome",-1),S=(0,c._)("br",null,null,-1),$=(0,c._)("span",null,"This is where user auth will occur",-1),I=(0,c._)("br",null,null,-1),k=(0,c._)("span",null,"nav bar will only populate when logged in ",-1),P=(0,c._)("br",null,null,-1),M=[C,S,$,I,k,P];function O(t,e,o,n,a,r){return(0,c.wg)(),(0,c.iD)("div",null,M)}var T={name:"Landing",props:{},computed:{},components:{},methods:{},data(){return{}},async created(){}};const A=(0,f.Z)(T,[["render",O]]);var L=A,U={name:"vHome",components:{Landing:L}};const x=(0,f.Z)(U,[["render",_]]);var R=x;const E=(0,c._)("h1",null,"Create a New Pdf!",-1);function N(t,e,o,n,a,r){const s=(0,c.up)("CreateForm");return(0,c.wg)(),(0,c.iD)("div",null,[E,(0,c.Wm)(s)])}var j=o(577);const F={class:"center-form container"},W={class:"form-row"},B={class:"form-group col-md-6"},Z=(0,c._)("label",{for:"documentTitle"},"Title of document",-1),V=(0,c._)("small",{id:"titleTag"},"A default roman numeral titled document will be generated otherwise",-1),J=(0,c._)("label",{for:"documentDescription"},"Description of Document",-1),q=(0,c._)("small",{class:"mb-3",id:"titleTag"},"A default description will be generated otherwise",-1),z=(0,c._)("option",{disabled:"",value:""},"--Select Category--",-1);function H(t,e,o,a,r,s){return(0,c.wg)(),(0,c.iD)("div",F,[(0,c._)("div",W,[(0,c._)("div",B,[Z,(0,c.wy)((0,c._)("input",{class:"form-control",id:"documentTitle",placeholder:"Enter Title","onUpdate:modelValue":e[0]||(e[0]=t=>r.document.title=t)},null,512),[[n.nr,r.document.title]]),V,J,(0,c.wy)((0,c._)("input",{class:"form-control",id:"documentDescription",placeholder:"Enter Description","onUpdate:modelValue":e[1]||(e[1]=t=>r.document.description=t)},null,512),[[n.nr,r.document.description]]),q,(0,c.wy)((0,c._)("select",{class:(0,j.C_)(["form-select form-control mb-3",{"is-invalid":r.isCategoryInvalid}]),id:"category","aria-label":"Category",style:{width:"auto"},"onUpdate:modelValue":e[2]||(e[2]=t=>r.document.category=t),required:""},[z,((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(t.categories,(t=>((0,c.wg)(),(0,c.iD)("option",{key:t},(0,j.zw)(t),1)))),128))],2),[[n.bM,r.document.category]])])]),(0,c._)("div",null,[(0,c._)("button",{class:"btn btn-success",onClick:e[3]||(e[3]=(...t)=>s.submitForm&&s.submitForm(...t))},"Submit")])])}var Y=o(907),K={name:"CreateForm",data(){return{document:{title:"",description:"",category:""},isCategoryInvalid:!1}},computed:{...(0,Y.rn)(["categories"])},methods:{async submitForm(){if(!this.document.category)return this.isCategoryInvalid=!0,void alert("Please select a category");this.isCategoryInvalid=!1;try{console.log("Form Data:",this.document),await this.$store.dispatch("createAndStoreDocument",this.document)}catch(t){console.log(`Error submitting form ${t}`)}}}};const G=(0,f.Z)(K,[["render",H]]);var Q=G,X={name:"vNewDocument",components:{CreateForm:Q}};const tt=(0,f.Z)(X,[["render",N]]);var et=tt;function ot(t,e,o,n,a,r){const s=(0,c.up)("PdfListDisplay");return(0,c.wg)(),(0,c.iD)("div",null,[t.documents?((0,c.wg)(),(0,c.j4)(s,{key:0,documents:t.documents},null,8,["documents"])):(0,c.kq)("",!0)])}const nt=t=>((0,c.dD)("data-v-b71b2eae"),t=t(),(0,c.Cn)(),t),ct={key:0},at=nt((()=>(0,c._)("h3",{class:"form-label"},"PDF List",-1))),rt={class:"list-group container"},st={class:"text-center row"},lt={class:"col d-flex align-items justify-content-between"},it=["onClick"],ut={class:"btn btn-dark btn-lg shadow-sm me-4"},dt={class:"text-wrap fs-6 d-inline-flex"},mt=["onClick"];function pt(t,e,o,a,r,s){const l=(0,c.up)("mDocumentPopout");return(0,c.wg)(),(0,c.iD)("div",null,[t.documents&&t.documents.length>0?((0,c.wg)(),(0,c.iD)("div",ct,[at,(0,c._)("ul",rt,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(t.documents,(t=>((0,c.wg)(),(0,c.iD)("li",{class:(0,j.C_)(["flex-column align-items-start",{"list-group-item":!0}]),key:t._id},[(0,c._)("div",st,[(0,c._)("div",lt,[(0,c._)("a",{onClick:(0,n.iM)((e=>s.openModal(t)),["prevent"])},[(0,c._)("button",ut,(0,j.zw)(t.title),1),(0,c._)("p",dt,(0,j.zw)(t.description),1)],8,it)]),(0,c._)("button",{class:"col-3 btn btn-outline-danger shadow-sm d-flex flex-row",type:"button",onClick:e=>s.confirmDelete(t._id,t.title)},"Delete",8,mt)])])))),128)),((0,c.wg)(),(0,c.j4)(l,{class:"modal-fade",role:"dialog",key:r.selectedId,documentId:r.selectedId},null,8,["documentId"]))])])):(0,c.kq)("",!0)])}const ft={key:0,class:"modal fade show d-block",id:"docDisplay",tabindex:"-1",role:"dialog","aria-labelledby":"docDisplayLabel","aria-hidden":"false"},ht={class:"modal-dialog modal-lg border border primary rounded",role:"document"},Dt={class:"modal-content"},gt={class:"modal-title m-3",id:"docDisplayLabel"},vt=(0,c._)("span",{"aria-hidden":"true"},"Ã—",-1),bt=[vt],yt={class:"modal-body"},wt=(0,c._)("div",{class:"modal-footer"},null,-1),_t={class:"row mb-3"},Ct={class:"col"},St=(0,c._)("label",{for:"updateTitleInput"},"Update Document Title",-1),$t=["placeholder"],It={class:"col"},kt=(0,c._)("label",{for:"updateDescriptionInput"},"Update Document Description",-1),Pt=["placeholder"],Mt={class:"row mb-3"},Ot={class:"col"},Tt={class:"col"};function At(t,e,o,a,r,s){const l=(0,c.up)("vue-pdf-embed");return s.showModal?((0,c.wg)(),(0,c.iD)("div",ft,[(0,c._)("div",ht,[(0,c._)("div",Dt,[(0,c._)("h5",gt,[(0,c.Uk)((0,j.zw)(s.currentTitle),1),(0,c._)("button",{class:"close",type:"button",onClick:e[0]||(e[0]=(...t)=>s.closeModal&&s.closeModal(...t)),"aria-label":"Close"},bt)]),(0,c._)("div",yt,[(0,c.Wm)(l,{source:s.pdfSrc,width:"600",height:"500"},null,8,["source"])]),wt,(0,c._)("form",null,[(0,c._)("div",_t,[(0,c._)("div",Ct,[St,(0,c.wy)((0,c._)("input",{class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>r.updateData.title=t),id:"updateTitleInput",placeholder:s.currentTitle},null,8,$t),[[n.nr,r.updateData.title]])]),(0,c._)("div",It,[kt,(0,c.wy)((0,c._)("input",{class:"form-control","onUpdate:modelValue":e[2]||(e[2]=t=>r.updateData.description=t),id:"updateDescriptionInput",placeholder:s.currentDescription},null,8,Pt),[[n.nr,r.updateData.description]])])]),(0,c._)("div",Mt,[(0,c._)("div",Ot,[(0,c._)("button",{class:"btn btn-secondary",type:"button",onClick:e[3]||(e[3]=(...t)=>s.closeModal&&s.closeModal(...t))},"Close")]),(0,c._)("div",Tt,[(0,c._)("button",{class:"btn btn-success",type:"button",onClick:e[4]||(e[4]=(...t)=>s.updateDocument&&s.updateDocument(...t))},"Save Changes")])])])])])])):(0,c.kq)("",!0)}var Lt=o(426),Ut=o.n(Lt),xt={name:"DocumentPopout",props:{documentId:{type:String,default:"no-document-id-passed"}},components:{VuePdfEmbed:Ut()},data(){return{updateData:{title:"",description:""},isDataLoaded:!1}},computed:{showModal(){return this.$store.state.showModal},pdfSrc(){return console.log(`> DocumentPopout - pdfSrc returned from pdfSrc(): ${this.$store.state.pdfSrc} <`),this.$store.state.pdfSrc},currentDocument(){return console.log(`> DocumentPopout - document returned from currentDocument(): ${JSON.stringify(this.$store.getters.getCurrentDocument,null,2)} <`),this.$store.getters.getCurrentDocument},currentTitle(){return console.log(`> DocumentPopout - title returned from currentTitle(): ${this.currentDocument?.title} <`),this.currentDocument?this.currentDocument.title:"Error in backend"},currentDescription(){return console.log(`> DocumentPopout - description returned from currentDescription(): ${this.currentDocument?.description} <`),this.currentDocument?this.currentDocument.description:"Error in backend"}},methods:{closeModal(){this.$store.commit("setCurrentDocument",null),console.log(`> DocumentPopout - current Document cleared: ${this.currentDocument}<`),this.$store.commit("toggleModal",!1)},updateDocument(){this.updateData.title||this.updateData.description?(console.log(`> Sending Update Data: ${JSON.stringify(this.updateData,null,2)} <`),console.log(`> Document ID passed in UpdateDocument(): ${this.documentId} <`),""===this.updateData.title&&(this.updateData.title=this.currentTitle),""===this.updateData.description&&(this.updateData.description=this.currentDescription),this.$store.dispatch("updateDocument",{documentId:this.documentId,updateData:this.updateData})):console.log("No changes made")}},created(){console.log(`> Document Popout - Doc on Created(): ${JSON.stringify(this.$store.getters.getCurrentDocument,null,2)} <`),this.documentId&&"no-document-id-passed"!==this.documentId&&(console.log(`> Document Popout - Document ID on creation: ${this.documentId} <`),console.log(`> Document Popout - Current Document on creation fetch: ${this.$store.getters.getCurrentDocument} <`),this.updateData.title=this.currentDocument?.title||"",this.updateData.description=this.currentDocument?.description||"",this.isDataLoaded=!0)}};const Rt=(0,f.Z)(xt,[["render",At]]);var Et=Rt,Nt={name:"PdfListDisplay",props:{},components:{mDocumentPopout:Et},computed:{...(0,Y.rn)(["documents"])},data(){return{selectedId:null}},methods:{...(0,Y.nv)(["fetchAllDocuments","deleteDocument","toggleModal","setPdfSrc","fetchDocumentById"]),isActive(t){return t&&t?._id===this.selectedId},async confirmDelete(t,e){const o=window.confirm(`Confirm you would like to delete ${e}`);o&&(await this.deleteDocument(t),await this.fetchAllDocuments())},async openModal(t){try{this.selectedId=t?._id;const e=await this.fetchDocumentById(t._id);e&&(await this.$store.commit("setCurrentDocument",e),await this.toggleModal(!0))}catch(e){throw console.log(`>>> ERROR in openModal(document): ${e} <<<`),e}}},watch:{documentId(t,e){console.log(`> pdfListDisplay - documentId changed: ${e} -> ${t} <`)}}};const jt=(0,f.Z)(Nt,[["render",pt],["__scopeId","data-v-b71b2eae"]]);var Ft=jt,Wt={name:"vPdfList",props:{},computed:{...(0,Y.rn)(["documents"])},components:{PdfListDisplay:Ft},methods:{...(0,Y.nv)(["fetchAllDocuments"])},data(){return{}},async created(){await this.fetchAllDocuments()}};const Bt=(0,f.Z)(Wt,[["render",ot]]);var Zt=Bt;const Vt=[{path:"/",name:"home",component:R},{path:"/newDocument",name:"newDocument",component:et},{path:"/pdfList",name:"pdfList",component:Zt}],Jt=(0,y.p7)({history:(0,y.r5)(),routes:Vt});var qt=Jt;const{log:zt}=o(969),Ht=o(218);function Yt(t){let e=t.title.trim().replace(/\s+/g,"-");return e.toLowerCase().endsWith(".pdf")||(e+=".pdf"),e}Ht.defaults.baseURL="http://localhost:3000/";var Kt=(0,Y.MT)({state:{documents:[],showModal:!1,pdfSrc:"",categories:["signatures","supporting documents"],currentDocument:{}},getters:{getCurrentDocument(t){return t.currentDocument}},mutations:{addDocument(t,e){t.documents.push(e)},setDocuments(t,e){t.documents=e},deleteDocument(t,e){t.documents=t.documents.filter((t=>t._id!==e))},toggleModal(t,e){t.showModal=e},setPdfSrc(t,e){t.pdfSrc=e,console.log(`pdfSrc in mutation: ${t.pdfSrc}`)},setCurrentDocument(t,e){t.currentDocument=e},updateDocumentInState(t,e){const o=t.documents.findIndex((t=>t._id===e._id));-1!==o?t.documents.splice(o,1,e):zt(">> ERROR: Document not found in state <<")}},actions:{async fetchAllDocuments({commit:t}){try{const e=await Ht.get("/docs/all");t("setDocuments",e.data)}catch(e){zt(`>>ERROR: Store - fetchAllDcouments() ${e}<<`),t("setDocuments",[])}},async createAndStoreDocument({commit:t},e){try{const o=await Ht.post("/docs/create",e);o.data.message.includes("saved successfully")&&(t("addDocument",o.data.result),this.dispatch("fetchAllDocuments"))}catch(o){console.log("Error in createAndStoreDocument",o)}},async fetchDocumentById({commit:t},e){try{const o=await Ht.get(`docs/display/${e}`);return zt(`Store - fetchDocumentById() param - documentID: ${e}`),zt(`Store - fetchDocumentById() response - fileUrl: ${o.data.fileUrl}`),t("setPdfSrc",`http://localhost:3000${o.data.fileUrl}`),zt(`Store - fetchDocumentById() response - res.data: ${JSON.stringify(o.data,null,2)}`),t("setCurrentDocument",o.data),o.data}catch(o){console.log(`>> ERROR: fetching document by id ${o} <<`)}},async updateDocument({commit:t},{documentId:e,updateData:o}){try{o.title=Yt(o);const n=await Ht.post(`/docs/update/${e}`,o);n.data.message.includes("updated successfully")&&(zt(`Store - UpdateDocument() response -  response.data.updatedDocument: ${JSON.stringify(n.data.updatedDocument,null,2)}`),t("updateDocumentInState",n.data.updatedDocument),this.dispatch("fetchAllDocuments"))}catch(n){console.log(`Error in updateDocument: ${n}`)}},async deleteDocument({commit:t},e){try{const o=await Ht.delete(`/docs/delete/${e}`);"Document deleted"===o.data.message&&(t("deleteDocument",e),this.dispatch("fetchAllDocuments"))}catch(o){zt(`>>ERROR in delete documents ${o}<<`),t("deleteDocument",e)}},toggleModal({commit:t},e){t("toggleModal",e)},setPdfSrc({commit:t},e){t("setPdfSrc",e)}},modules:{}});(0,n.ri)(b).use(Kt).use(qt).mount("#app")},969:function(t){function e(t){console.log(`> ${t} <`)}t.exports={log:e}}},e={};function o(n){var c=e[n];if(void 0!==c)return c.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,n,c,a){if(!n){var r=1/0;for(u=0;u<t.length;u++){n=t[u][0],c=t[u][1],a=t[u][2];for(var s=!0,l=0;l<n.length;l++)(!1&a||r>=a)&&Object.keys(o.O).every((function(t){return o.O[t](n[l])}))?n.splice(l--,1):(s=!1,a<r&&(r=a));if(s){t.splice(u--,1);var i=c();void 0!==i&&(e=i)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[n,c,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var c,a,r=n[0],s=n[1],l=n[2],i=0;if(r.some((function(e){return 0!==t[e]}))){for(c in s)o.o(s,c)&&(o.m[c]=s[c]);if(l)var u=l(o)}for(e&&e(n);i<r.length;i++)a=r[i],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(u)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(570)}));n=o.O(n)})();
//# sourceMappingURL=app.efc0d814.js.map